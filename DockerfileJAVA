FROM maven:3.9-eclipse-temurin-17-alpine

COPY . /usr/src/mymaven

WORKDIR /usr/src/mymaven

# Add DB Dialect
RUN echo "spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect" >> src/main/resources/application.properties

RUN sed -i 's/localhost/my-mysql/g' src/main/resources/application.properties

ENTRYPOINT ["mvn"]
CMD ["spring-boot:run"]
